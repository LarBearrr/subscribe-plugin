<?php
    $schedules = $activeService->getSchedule();
?>
<div class="toolbar-widget list-header">
    <div class="control-toolbar">
        <div class="toolbar-item toolbar-primary">
            <div data-control="toolbar">
                <a
                    href="javascript:;"
                    onclick="editSchedulePriceSelected()"
                    class="btn btn-secondary oc-icon-pencil">
                    Change Price
                </a>
            </div>
        </div>
    </div>
</div>
<div class="control-list" data-control="listwidget" id="scheduleList">
    <table class="table data" data-control="rowlink">
        <thead>
            <tr>
                <th class="list-checkbox">
                    <div class="checkbox custom-checkbox nolabel">
                        <input type="checkbox" id="checkboxAll" />
                        <label for="checkboxAll"></label>
                    </div>
                </th>
                <th><span>Period</span></th>
                <th><span>Period Start</span></th>
                <th><span>Period End</span></th>
                <th><span>Product Price</span></th>
                <th><span>Comment</span></th>
            </tr>
        </thead>
        <tbody>
            <?php if (count($schedules) > 0): ?>
                <?php foreach ($schedules as $index => $schedule): ?>
                    <tr>
                        <td class="list-checkbox nolink">
                            <div class="checkbox custom-checkbox nolabel">
                                <input id="checkbox_<?= $index ?>" type="checkbox" name="list_ids[]" value="<?= e($schedule->period) ?>" />
                                <label for="checkbox_<?= $index ?>">Check</label>
                            </div>
                        </td>
                        <td><a href="javascript:;" onclick="editSchedulePrice('<?= e($schedule->period) ?>')"><?= e($schedule->period) ?></a></td>
                        <td><?= e($schedule->period_start->toFormattedDateString()) ?></td>
                        <td><?= e($schedule->period_end->toFormattedDateString()) ?></td>
                        <td><?= Currency::format($schedule->total) ?></td>
                        <td><?= e($schedule->comment) ?></td>
                    </tr>
                <?php endforeach ?>
            <?php else: ?>
                <tr class="no-data">
                    <td colspan="100" class="nolink">
                        <p class="no-data">
                            There are no upcoming invoices to show.
                        </p>
                    </td>
                </tr>
            <?php endif ?>
        </body>
    </table>
</div>
